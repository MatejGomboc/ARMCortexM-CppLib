{
    "name": "ARM Cortex-M C++ Lib Development Environment",

    // ⚠️ IMPORTANT: If you change the image below, also update the initializeCommand.
    "image": "ghcr.io/matejgomboc/armcortexm-cpplib-devenv:latest",

    // Always pull latest image before container creation (must match image above).
    "initializeCommand": "docker pull ghcr.io/matejgomboc/armcortexm-cpplib-devenv:latest",

    "workspaceFolder": "/root/ARMCortexM-CppLib",
    "workspaceMount": "source=${localWorkspaceFolder},target=/root/ARMCortexM-CppLib,type=bind",

    // Verify image authenticity on container creation.
    "onCreateCommand": "bash /root/ARMCortexM-CppLib/.devcontainer/verify-image.sh",

    "customizations": {
        "vscode": {
            "extensions": [
                "dan-c-underwood.arm",
                "davidanson.vscode-markdownlint",
                "donjayamanne.githistory",
                "editorconfig.editorconfig",
                "felipecaputo.git-project-manager",
                "github.vscode-github-actions",
                "Gruntfuggly.todo-tree",
                "ms-vscode.cmake-tools",
                "ms-vscode.cpptools-extension-pack",
                "ms-vscode.cpptools-themes",
                "ms-vscode.hexeditor",
                "ms-vscode.notepadplusplus-keybindings",
                "redhat.vscode-yaml",
                "trond-snekvik.gnu-mapfiles",
                "xaver.clang-format",
                "usernamehw.errorlens"
            ]
        }
    }
}
